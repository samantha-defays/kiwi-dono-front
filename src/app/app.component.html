<h1 class="text-center">{{pageTitle}}</h1>
<div class="grid mt-2">
    <div class="col-1"></div>
    <div class="col">
        <p-card>
            <ng-template pTemplate="header">
                Nouveau message
            </ng-template>
            <p>Votre message</p>
            <input type="text" class="mr-2" pInputText [(ngModel)]="message" />
            <button pButton pRipple type="button" label="Envoyer" (click)="createMessage()"></button>
        </p-card>
        
    </div>
    
    <div class="col">
        <p-card>
            <ng-template pTemplate="header">
                Messages
            </ng-template>
            <p-table [value]="messages">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Message</th>
                        <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-message>
                    <tr>
                        <td>
                            <input type="text" class="mr-2" pInputText [(ngModel)]="message.text" />
                        </td>
                        <td>
                            <button pButton pRipple type="button" icon="pi pi-pencil" title="Modifier" class="p-button-primary mr-1" (click)="updateMessage(message.id, message.text)"></button>
                            <button pButton pRipple type="button" icon="pi pi-times" title="Supprimer" class="p-button-danger" (click)="deleteMessage(message.id)"></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>

            <aside class="text-right mt-3">
                <button pButton pRipple type="button" icon="pi pi-sync" class="p-button-rounded p-button-outlined p-button-success" (click)="getMessages()"></button>
            </aside>
        </p-card>
    </div>
    <div class="col-1"></div>
</div>